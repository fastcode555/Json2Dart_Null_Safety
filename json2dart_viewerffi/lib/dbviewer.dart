import 'dart:convert';

import 'package:flutter/material.dart';
import 'package:flutter_ume/flutter_ume.dart';

import 'src/overlay_panel.dart';

const String _pluginName = 'DBViewer';
const String _icon =
    r"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";
final _iconMemory = base64Decode(_icon);

class DBViewer implements Pluggable {
  const DBViewer();

  @override
  String get displayName => _pluginName;

  @override
  ImageProvider<Object> get iconImageProvider => MemoryImage(_iconMemory);

  @override
  String get name => _pluginName;

  @override
  void onTrigger() {}

  @override
  Widget buildWidget(BuildContext? context) {
    return Stack(
      children: [
        Align(
          alignment: Alignment.bottomCenter,
          child: OverlayPane(),
        )
      ],
    );
  }
}
